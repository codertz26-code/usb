const { cmd } = require('../command');

// FakevCard sawa na zilizopita
const fkontak = {
    "key": {
        "participant": '0@s.whatsapp.net',
        "remoteJid": '0@s.whatsapp.net',
        "fromMe": false,
        "id": "Halo"
    },
    "message": {
        "conversation": "ðš‚ð™¸ð™»ð™°"
    }
};

const getContextInfo = (m) => {
    return {
        mentionedJid: [m.sender],
        forwardingScore: 999,
        isForwarded: true,
        forwardedNewsletterMessageInfo: {
            newsletterJid: '120363402325089913@newsletter',
            newsletterName: 'Â© ð’ðˆð‹ð€ ðŒðƒ',
            serverMessageId: 143,
        }
    };
};

cmd({
    pattern: "uptime",
    desc: "Check how long the bot has been active",
    category: "main",
    react: "â³",
    filename: __filename
},
async (conn, mek, m, { from, reply, sender }) => {
    try {
        // Get uptime in seconds
        const uptimeSeconds = process.uptime();
        
        // Convert seconds to a readable format
        const hours = Math.floor(uptimeSeconds / 3600);
        const minutes = Math.floor((uptimeSeconds % 3600) / 60);
        const seconds = Math.floor(uptimeSeconds % 60);

        const uptimeString = `â•­â”â”ã€” â³ *ðš„ð™¿ðšƒð™¸ð™¼ð™´* ã€•â”â”â”ˆâŠ·
â”ƒ
â”ƒ *ðš‚ð™¸ð™»ð™° ð™¼ð™³ ð™°ð™¸*
â”ƒ
â”ƒ *${hours}h ${minutes}m ${seconds}s*
â”ƒ
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”ˆâŠ·
> Â© Powered by Sila Tech`;

        await conn.sendMessage(from, { 
            text: uptimeString,
            contextInfo: getContextInfo({ sender: sender })
        }, { quoted: fkontak });
        
    } catch (e) {
        console.log(e);
        await conn.sendMessage(from, { 
            text: "âŒ ð™´ðš›ðš›ðš˜ðš› ðšðšŽðšðšŒðš‘ðš’ðš—ðš ðšžðš™ðšðš’ðš–ðšŽ.\n\n> Â© Powered by Sila Tech", 
            contextInfo: getContextInfo({ sender: sender })
        }, { quoted: fkontak });
    }
});